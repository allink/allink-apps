{% extends "base_root.html" %}
{% load i18n staticfiles cms_tags menu_tags %}

{% block body_class %}tpl-base{% endblock %}

{# no indent for better readability on extend_root #}
{% block body_content %}
    {% block header %}

        <header class="site-header compact-mode-enabled">
            <div class="container">

                <h1 class="navbar-brand">
                    <a href="{% url "pages-root" %}">
                        <span class="sr-only">{{ request.site.name }}</span>
                        <img src="{% static "images/branding/allink-logo-compact.svg" %}" alt="{{ request.site.name }}" />
                    </a>
                </h1>

                {% block logo_addition_container %}
                {% endblock logo_addition_container %}

                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#primary-nav" aria-expanded="false" aria-controls="primary-nav">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                </button>

                <div id="primary-nav" class="navbar-collapse collapse primary-nav" role="navigation">
                    {% block navbar %}
                        <nav class="nav">
                            <h2 class="sr-only">{% trans "Navigation" %}</h2>
                            {% render_model_block request.current_page "changelist" %}
                                {% with dropdown="true" %}
                                    <ul class="nav navbar-nav">
                                        {% show_menu 0 1 100 100 "includes/menu/navigation.html" %}
                                        {% comment %}
                                            <li class="divider" role="presentation"><span class="sr-only">{% trans "Separator" %}</span></li>
                                            {% show_menu_below_id "meta" 0 0 100 100 "includes/menu/navigation.html" %}
                                            {% language_chooser "includes/menu/langnav.html" "native" %}
                                        {% endcomment %}
                                    </ul>
                                {% endwith %}
                            {% endrender_model_block %}
                        </nav>
                    {% endblock navbar %}
                </div>

            </div>
        </header>

        {# required to hold the space for fixed headers #}
        <div class="site-header-buffer"></div>

    {% endblock header %}

    {# DOCS: http://getbootstrap.com/components/#breadcrumbs #}
    {% block breadcrumb %}
    {% endblock breadcrumb %}

    {# start: content #}
    <hr class="sr-only" id="page-content" />
    {% block content_container %}
        <section class="site-content">
            {% block content %}{% endblock %}
        </section>
    {% endblock content_container %}
    <hr class="sr-only" />
    {# end: content #}

    {% block footer %}
        <footer class="site-footer inverted-colors" role="contentinfo" data-scroll-spy>
            <h1 class="sr-only" id="page-footer">{% trans "Sitemap" %}</h1>

            <div class="container">

                <div class="inner">

                    <div class="col col-1">
                        {# secondary navigation #}
                        <div class="secondary-nav">
                            {% static_placeholder "service_navigation" %}
                        </div>
                    </div>

                    <div class="col col-2">
                        {# render footer content #}
                        <div class="footer-text-container">
                            {% static_placeholder "footer_content" %}
                        </div>
                    </div>

                    <div class="col col-3">
                        <div class="manage-spacings">

                            {# newsletter #}
                            <div class="newsletter-container">
                                <h2 class="heading">{% trans "Sign up for our newsletter" %}</h2>
                                <div id="mailchimp-form-container">
                                    {% include 'allink_mailchimp/signup_form.html' %}
                                </div>
                            </div>

                            {# render social profiles #}
                            <div class="footer-social-profile-container">
                                <h2 class="heading">{% trans "Follow us on social networks" %}</h2>
                                {% static_placeholder "social_profiles" %}
                            </div>

                        </div>
                    </div>

                </div>
            </div>

        </footer>
    {% endblock footer %}

    {% block to_the_top %}
        <a href="#page-top" class="to-the-top">
            <span class="inner">
                <span class="sr-only">
                    {% trans "To the top" %}
                </span>
            </span>
        </a>
    {% endblock to_the_top %}

{% endblock body_content %}
